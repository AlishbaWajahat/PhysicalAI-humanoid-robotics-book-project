# Research: Docusaurus 3.9.2 MDX Structure and Frontmatter

**Date**: 2025-12-05
**Feature**: 002-part0-introduction
**Source**: Official Docusaurus documentation via Context7

## Research Questions Resolved

### 1. What frontmatter fields are required/recommended for Docusaurus docs?

**Decision**: Use `id`, `title`, `sidebar_label`, and `description` fields

**Rationale**:
- `id`: Explicitly sets document ID, overriding default file-path-based ID (Source: https://docusaurus.io/docs/3.6.3/create-doc)
- `title`: Sets page title for SEO and browser tab; can differ from h1 heading (Source: https://docusaurus.io/docs/3.1.1/seo)
- `sidebar_label`: Overrides the label displayed in sidebar navigation; takes precedence over label in sidebars.js (Source: https://docusaurus.io/docs/2.x/sidebar/items)
- `description`: Provides page description for SEO, social media cards, and doc cards in category indexes (Source: https://docusaurus.io/docs/3.5.2/markdown-features/head-metadata)

**Alternatives considered**:
- Using only `id` and `title` (minimal approach) - Rejected because `sidebar_label` provides explicit control over navigation text, and `description` improves SEO
- Using autogenerated sidebar with number prefixes - Rejected because spec requires exact title control and manual sidebar configuration
- Using `sidebar_position` for ordering - Not needed since we're manually defining sidebar structure in sidebars.js

### 2. What is the proper MDX file structure for Docusaurus 3.x?

**Decision**: YAML frontmatter enclosed in `---` followed by Markdown/MDX content

**Rationale**:
- Frontmatter must be at the top of the file, enclosed by triple dashes (`---`)
- Format is YAML (supports strings, arrays, objects)
- Docusaurus 3.x treats all files as MDX by default (supports JSX in Markdown)
- Source: https://docusaurus.io/docs/3.5.2/create-doc

**Structure**:
```markdown
---
id: document-id
title: Page Title
sidebar_label: Sidebar Label
description: Page description
---

# Content starts here
```

### 3. How should sidebar navigation be configured for hierarchical structure?

**Decision**: Manual sidebar configuration in `sidebars.js` using category type with nested doc items

**Rationale**:
- Manual configuration provides exact control over titles (including em dash character)
- Category type allows grouping chapters under main introduction
- Explicit configuration ensures predictable navigation structure
- Source: https://docusaurus.io/docs/3.5.2/sidebar/items

**Structure**:
```javascript
{
  type: 'category',
  label: 'Introduction to physical AI and humanoid robotics',
  items: [
    'part0-introduction/part0-introduction',
    'part0-introduction/chapter-1-why-physical-ai-is-the-next-frontier',
    'part0-introduction/chapter-2-the-new-workflow-spec-driven-physical-ai'
  ]
}
```

**Alternatives considered**:
- Autogenerated sidebar from directory structure - Rejected because we need exact title control including em dash (—) characters
- Using `_category_.json` files - Rejected because manual sidebars.js provides better visibility and version control

### 4. How should em dash (—) characters be handled in titles and filenames?

**Decision**:
- **Filenames**: Convert em dashes to hyphens for kebab-case (Rule 4)
- **Titles/Labels**: Preserve em dash (—) character in frontmatter and sidebar labels

**Rationale**:
- UTF-8 encoding supports em dash in YAML frontmatter and JavaScript strings
- Kebab-case filenames avoid special character issues in file systems and URLs
- Separation of concerns: filename is technical identifier, title/label is user-facing display
- Docusaurus automatically handles URL generation from document ID (not from title)

**Examples**:
- File: `chapter-1-why-physical-ai-is-the-next-frontier.mdx`
- Title: `Chapter 1 — Why Physical AI Is the Next Frontier`

### 5. What is the minimum content required for empty structure files?

**Decision**: Frontmatter only, with optional minimal placeholder heading

**Rationale**:
- Spec explicitly requires "no writing only structure" (FR-012)
- Valid MDX file only requires frontmatter; body can be empty
- Docusaurus will render the page title from frontmatter
- Optional: Add h1 heading matching title for content authoring convenience

**Minimal valid structure**:
```markdown
---
id: example
title: Example Title
sidebar_label: Example
description: Example description
---
```

**With optional heading** (recommended for authoring convenience):
```markdown
---
id: example
title: Example Title
sidebar_label: Example
description: Example description
---

# Example Title
```

## Technology Stack Decisions

### MDX Version and React Compatibility

**Decision**: Use MDX 3.0.0 with React 19.0.0 (already in package.json)

**Rationale**:
- Docusaurus 3.9.2 officially supports @mdx-js/react ^3.0.0 (verified in package.json)
- React 19.0.0 is compatible with Docusaurus 3.9.2
- No additional dependencies required

### File Extension

**Decision**: Use `.mdx` extension for all files

**Rationale**:
- Docusaurus 3.x treats all files as MDX by default
- Explicit `.mdx` extension signals MDX capabilities (even if not currently used)
- Consistent with project convention
- Future-proofs for potential JSX component integration

## Implementation Guidelines

### File Naming Convention

Based on Rule 4 (kebab-case) and spec requirements:

1. **Directory**: `docs/part0-introduction/`
2. **Main introduction**: `part0-introduction.mdx`
3. **Chapter 1**: `chapter-1-why-physical-ai-is-the-next-frontier.mdx`
4. **Chapter 2**: `chapter-2-the-new-workflow-spec-driven-physical-ai.mdx`

### Document IDs

Use directory-relative IDs to avoid path coupling:

- `part0-introduction/part0-introduction`
- `part0-introduction/chapter-1-why-physical-ai-is-the-next-frontier`
- `part0-introduction/chapter-2-the-new-workflow-spec-driven-physical-ai`

### Sidebar Configuration Pattern

```javascript
tutorialSidebar: [
  {
    type: 'category',
    label: 'Introduction to physical AI and humanoid robotics',
    items: [
      'part0-introduction/part0-introduction',
      'part0-introduction/chapter-1-why-physical-ai-is-the-next-frontier',
      'part0-introduction/chapter-2-the-new-workflow-spec-driven-physical-ai'
    ]
  }
]
```

## Validation Strategy

Per spec success criteria (SC-001 through SC-007):

1. **Build validation**: `npm run build` - must complete without errors
2. **Dev server validation**: `npm start` - sidebar must display correctly
3. **File structure validation**: Verify kebab-case filenames in `docs/part0-introduction/`
4. **Frontmatter validation**: Each file has id, title, sidebar_label, description
5. **Navigation validation**: All three documents accessible and display correct titles
6. **Character encoding validation**: Em dash (—) renders correctly in browser

## References

All information verified against official Docusaurus documentation:
- https://docusaurus.io/docs/3.6.3/create-doc
- https://docusaurus.io/docs/3.5.2/sidebar/items
- https://docusaurus.io/docs/3.5.2/markdown-features/head-metadata
- https://docusaurus.io/docs/3.1.1/seo

Context7 library: `/websites/docusaurus_io` (High reputation, 7858 code snippets, Benchmark score: 89.3)
